# Task ID: 17
# Title: Testing Strategy Execution
# Status: pending
# Dependencies: 4, 5, 6, 7, 8, 9, 10, 11, 12, 13
# Priority: high
# Description: Unit, integration, E2E across modules with coverage targets
# Details:
Automated tests integrated into CI with coverage reports

# Test Strategy:


# Subtasks:
## 1. Unit tests domain/app for each service [pending]
### Dependencies: None
### Description: 
### Details:


## 2. Integration tests API/repo/events [pending]
### Dependencies: None
### Description: 
### Details:


## 3. E2E (mobile/web) critical flows [pending]
### Dependencies: None
### Description: 
### Details:


## 4. Contract tests across services [pending]
### Dependencies: 17.27, 17.28
### Description: Cross-service contract tests covering Accounting, Sales, Stock, Notifications, Webhooks. Spin up minimal env and verify API and event schemas.
### Details:
- Spin up Accounting, Sales, Stock, Notifications, Webhooks against ephemeral Postgres and RabbitMQ.
- Validate OpenAPI schemas via contract tests; fail build on breaking changes.
- Verify event contracts with consumer-driven tests (Pact or equivalent) for SaleCompleted, PurchaseOrderReceived, WebhookDelivered.
- Add CI job to run contract tests on PR.
- Gate merges when contract tests fail.

