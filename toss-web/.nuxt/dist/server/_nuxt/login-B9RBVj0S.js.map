{"version":3,"file":"login-B9RBVj0S.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <!-- Header -->\r\n      <div>\r\n        <div class=\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-gradient-to-r from-green-400 to-green-600\">\r\n          <svg class=\"h-8 w-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\"></path>\r\n          </svg>\r\n        </div>\r\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white\">\r\n          Sign in to TOSS ERP\r\n        </h2>\r\n        <p class=\"mt-2 text-center text-sm text-gray-600 dark:text-gray-400\">\r\n          Your collaborative business platform\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Login Form -->\r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleLogin\">\r\n        <div class=\"rounded-md shadow-sm -space-y-px\">\r\n          <div>\r\n            <label for=\"email\" class=\"sr-only\">Email address</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"form.email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              autocomplete=\"email\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"Email address\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"password\" class=\"sr-only\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"form.password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              autocomplete=\"current-password\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center justify-between\">\r\n          <div class=\"flex items-center\">\r\n            <input\r\n              id=\"remember-me\"\r\n              v-model=\"form.rememberMe\"\r\n              name=\"remember-me\"\r\n              type=\"checkbox\"\r\n              class=\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800\"\r\n            />\r\n            <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900 dark:text-white\">\r\n              Remember me\r\n            </label>\r\n          </div>\r\n\r\n          <div class=\"text-sm\">\r\n            <NuxtLink to=\"/forgot-password\" class=\"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300\">\r\n              Forgot your password?\r\n            </NuxtLink>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading\"\r\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n              <svg v-if=\"!loading\" class=\"h-5 w-5 text-green-500 group-hover:text-green-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fill-rule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clip-rule=\"evenodd\" />\r\n              </svg>\r\n              <svg v-else class=\"animate-spin h-5 w-5 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            </span>\r\n            {{ loading ? 'Signing in...' : 'Sign in' }}\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Demo Credentials -->\r\n        <div class=\"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n          <h3 class=\"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2\">Demo Credentials</h3>\r\n          <div class=\"space-y-1 text-xs text-blue-600 dark:text-blue-300\">\r\n            <p><strong>Business Owner:</strong> owner@demo.toss.co.za / password123</p>\r\n            <p><strong>Manager:</strong> manager@demo.toss.co.za / password123</p>\r\n            <p><strong>Employee:</strong> employee@demo.toss.co.za / password123</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            @click=\"fillDemoCredentials\"\r\n            class=\"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 underline\"\r\n          >\r\n            Use demo credentials\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Sign Up Link -->\r\n        <div class=\"text-center\">\r\n          <p class=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            Don't have an account?\r\n            <NuxtLink to=\"/register\" class=\"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300\">\r\n              Sign up for free\r\n            </NuxtLink>\r\n          </p>\r\n        </div>\r\n      </form>\r\n\r\n      <!-- Features Preview -->\r\n      <div class=\"mt-8 grid grid-cols-2 gap-4 text-center\">\r\n        <div class=\"p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\r\n          <div class=\"text-green-600 dark:text-green-400 mb-1\">\r\n            <svg class=\"w-6 h-6 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"></path>\r\n            </svg>\r\n          </div>\r\n          <p class=\"text-xs font-medium text-gray-900 dark:text-white\">Group Buying</p>\r\n          <p class=\"text-xs text-gray-500 dark:text-gray-400\">Save together</p>\r\n        </div>\r\n\r\n        <div class=\"p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\r\n          <div class=\"text-green-600 dark:text-green-400 mb-1\">\r\n            <svg class=\"w-6 h-6 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"></path>\r\n            </svg>\r\n          </div>\r\n          <p class=\"text-xs font-medium text-gray-900 dark:text-white\">AI Assistant</p>\r\n          <p class=\"text-xs text-gray-500 dark:text-gray-400\">Smart insights</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n// Meta\r\ndefinePageMeta({\r\n  layout: false,\r\n  auth: false\r\n})\r\n\r\nuseHead({\r\n  title: 'Sign In'\r\n})\r\n\r\n// Store\r\nconst userStore = useUserStore()\r\n\r\n// State\r\nconst loading = ref(false)\r\nconst form = ref({\r\n  email: '',\r\n  password: '',\r\n  rememberMe: false\r\n})\r\n\r\n// Methods\r\nasync function handleLogin() {\r\n  if (loading.value) return\r\n\r\n  loading.value = true\r\n  try {\r\n    await userStore.login(form.value)\r\n    \r\n    // Show success notification\r\n    const notificationStore = useNotificationStore()\r\n    notificationStore.add({\r\n      type: 'success',\r\n      title: 'Welcome back!',\r\n      message: 'You have been successfully signed in.'\r\n    })\r\n    \r\n    // Redirect to dashboard\r\n    await navigateTo('/dashboard')\r\n  } catch (error: any) {\r\n    // Show error notification\r\n    const notificationStore = useNotificationStore()\r\n    notificationStore.add({\r\n      type: 'error',\r\n      title: 'Sign in failed',\r\n      message: error.data?.message || 'Invalid email or password. Please try again.'\r\n    })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nfunction fillDemoCredentials() {\r\n  form.value.email = 'owner@demo.toss.co.za'\r\n  form.value.password = 'password123'\r\n  form.value.rememberMe = true\r\n}\r\n\r\n// Redirect if already authenticated\r\nonMounted(async () => {\r\n  if (userStore.isAuthenticated) {\r\n    await navigateTo('/dashboard')\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Additional custom styles if needed */\r\n</style>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","_ssrIncludeBooleanAttr","_ssrLooseContain","_push","_parent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAsJA,YAAQ;AAAA,MACN,OAAO;AAAA,IAAA,CACR;AAGiB,iBAAA;AAGlB,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,OAAO,IAAI;AAAA,MACf,OAAO;AAAA,MACP,UAAU;AAAA,MACV,YAAY;AAAA,IAAA,CACb;;;mBAlKMA,eAAAC,WAAA,EAAA,OAAM,uGAAA,GAAsG,MAAA,CAAA,o7BAwB5FC,cAAA,SAAAC,MAAA,IAAA,EAAK,KAAK,whBAaVD,cAAA,SAAAC,MAAA,IAAA,EAAK,QAAQ,gkBAebC,sBAAA,MAAA,QAAAD,MAAA,IAAA,EAAK,UAAU,IAAfE,gBAAAF,MAAA,IAAA,EAAK,YAAU,IAAA,IAAfA,MAAA,IAAA,EAAK,UAAU,IAAA,aAAA;;QAWhB,IAAG;AAAA,QAAmB,OAAM;AAAA,MAAA;yBAAtC,CAEW,GAAAG,QAAAC,UAAA,aAAA;;;;;8BAF2H,yBAEtI;AAAA,YAAA;AAAA;;;;2FAOWJ,MAAA,OAAA,CAAO,IAAA,cAAA,EAAA,2XAAA;WAIJA,MAAA,OAAA,GAAO;;;;;sCAQlBA,MAAA,OAAA,IAAO,kBAAA,SAAA,CAAA,45BAAA;;QAyBA,IAAG;AAAA,QAAY,OAAM;AAAA,MAAA;yBAA/B,CAEW,GAAAG,QAAAC,UAAA,aAAA;;;;;8BAFoH,oBAE/H;AAAA,YAAA;AAAA;;;;;;;;;;;;;;;"}