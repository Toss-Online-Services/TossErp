{"file":"register-MGYapMsp.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_push","_parent"],"sources":["../../../../pages/register.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <!-- Header -->\r\n      <div>\r\n        <div class=\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-gradient-to-r from-green-400 to-green-600\">\r\n          <svg class=\"h-8 w-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\"></path>\r\n          </svg>\r\n        </div>\r\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white\">\r\n          Join TOSS ERP\r\n        </h2>\r\n        <p class=\"mt-2 text-center text-sm text-gray-600 dark:text-gray-400\">\r\n          Create your free business account today\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Registration Form -->\r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleRegister\">\r\n        <!-- Business Information -->\r\n        <div class=\"space-y-4\">\r\n          <div>\r\n            <label for=\"businessName\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Business Name\r\n            </label>\r\n            <input\r\n              id=\"businessName\"\r\n              v-model=\"form.businessName\"\r\n              name=\"businessName\"\r\n              type=\"text\"\r\n              required\r\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"e.g., Thabo's Spaza Shop\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label for=\"firstName\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                First Name\r\n              </label>\r\n              <input\r\n                id=\"firstName\"\r\n                v-model=\"form.firstName\"\r\n                name=\"firstName\"\r\n                type=\"text\"\r\n                required\r\n                class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n                placeholder=\"First name\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label for=\"lastName\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                Last Name\r\n              </label>\r\n              <input\r\n                id=\"lastName\"\r\n                v-model=\"form.lastName\"\r\n                name=\"lastName\"\r\n                type=\"text\"\r\n                required\r\n                class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n                placeholder=\"Last name\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Email Address\r\n            </label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"form.email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              autocomplete=\"email\"\r\n              required\r\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"your@email.com\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label for=\"phone\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Phone Number\r\n            </label>\r\n            <input\r\n              id=\"phone\"\r\n              v-model=\"form.phone\"\r\n              name=\"phone\"\r\n              type=\"tel\"\r\n              required\r\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"+27 XX XXX XXXX\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Password\r\n            </label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"form.password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"Create a strong password\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label for=\"confirmPassword\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Confirm Password\r\n            </label>\r\n            <input\r\n              id=\"confirmPassword\"\r\n              v-model=\"form.confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n              placeholder=\"Confirm your password\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Business Type -->\r\n          <div>\r\n            <label for=\"businessType\" class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              Business Type\r\n            </label>\r\n            <select\r\n              id=\"businessType\"\r\n              v-model=\"form.businessType\"\r\n              name=\"businessType\"\r\n              required\r\n              class=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800\"\r\n            >\r\n              <option value=\"\">Select your business type</option>\r\n              <option value=\"spaza\">Spaza Shop</option>\r\n              <option value=\"retail\">Retail Store</option>\r\n              <option value=\"restaurant\">Restaurant/Takeaway</option>\r\n              <option value=\"service\">Service Business</option>\r\n              <option value=\"wholesale\">Wholesale</option>\r\n              <option value=\"manufacturing\">Manufacturing</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Terms and Conditions -->\r\n        <div class=\"flex items-center\">\r\n          <input\r\n            id=\"agreeTerms\"\r\n            v-model=\"form.agreeTerms\"\r\n            name=\"agreeTerms\"\r\n            type=\"checkbox\"\r\n            required\r\n            class=\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800\"\r\n          />\r\n          <label for=\"agreeTerms\" class=\"ml-2 block text-sm text-gray-900 dark:text-white\">\r\n            I agree to the\r\n            <NuxtLink to=\"/terms\" class=\"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline\">\r\n              Terms of Service\r\n            </NuxtLink>\r\n            and\r\n            <NuxtLink to=\"/privacy\" class=\"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline\">\r\n              Privacy Policy\r\n            </NuxtLink>\r\n          </label>\r\n        </div>\r\n\r\n        <!-- Submit Button -->\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading || !isFormValid\"\r\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n              <svg v-if=\"!loading\" class=\"h-5 w-5 text-green-500 group-hover:text-green-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z\" />\r\n              </svg>\r\n              <svg v-else class=\"animate-spin h-5 w-5 text-green-500\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            </span>\r\n            {{ loading ? 'Creating account...' : 'Create account' }}\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Sign In Link -->\r\n        <div class=\"text-center\">\r\n          <p class=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            Already have an account?\r\n            <NuxtLink to=\"/login\" class=\"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300\">\r\n              Sign in\r\n            </NuxtLink>\r\n          </p>\r\n        </div>\r\n      </form>\r\n\r\n      <!-- Benefits -->\r\n      <div class=\"mt-8 bg-green-50 dark:bg-green-900/20 rounded-lg p-4\">\r\n        <h3 class=\"text-sm font-medium text-green-800 dark:text-green-200 mb-3\">Why join TOSS ERP?</h3>\r\n        <div class=\"space-y-2 text-xs text-green-700 dark:text-green-300\">\r\n          <div class=\"flex items-center\">\r\n            <svg class=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n            Group buying to save money together\r\n          </div>\r\n          <div class=\"flex items-center\">\r\n            <svg class=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n            AI-powered business insights\r\n          </div>\r\n          <div class=\"flex items-center\">\r\n            <svg class=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n            Complete inventory & sales management\r\n          </div>\r\n          <div class=\"flex items-center\">\r\n            <svg class=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n            Community collaboration tools\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n// Meta\r\ndefinePageMeta({\r\n  layout: false,\r\n  auth: false\r\n})\r\n\r\nuseHead({\r\n  title: 'Sign Up - Join TOSS ERP'\r\n})\r\n\r\n// State\r\nconst loading = ref(false)\r\nconst form = ref({\r\n  businessName: '',\r\n  firstName: '',\r\n  lastName: '',\r\n  email: '',\r\n  phone: '',\r\n  password: '',\r\n  confirmPassword: '',\r\n  businessType: '',\r\n  agreeTerms: false\r\n})\r\n\r\n// Computed\r\nconst isFormValid = computed(() => {\r\n  return form.value.businessName &&\r\n         form.value.firstName &&\r\n         form.value.lastName &&\r\n         form.value.email &&\r\n         form.value.phone &&\r\n         form.value.password &&\r\n         form.value.confirmPassword &&\r\n         form.value.businessType &&\r\n         form.value.agreeTerms &&\r\n         form.value.password === form.value.confirmPassword &&\r\n         form.value.password.length >= 8\r\n})\r\n\r\n// Methods\r\nasync function handleRegister() {\r\n  if (loading.value || !isFormValid.value) return\r\n\r\n  if (form.value.password !== form.value.confirmPassword) {\r\n    const notificationStore = useNotificationStore()\r\n    notificationStore.error('Password Mismatch', 'Passwords do not match. Please check and try again.')\r\n    return\r\n  }\r\n\r\n  loading.value = true\r\n  try {\r\n    // Register user\r\n    const response = await $fetch('/api/auth/register', {\r\n      method: 'POST',\r\n      body: {\r\n        businessName: form.value.businessName,\r\n        firstName: form.value.firstName,\r\n        lastName: form.value.lastName,\r\n        email: form.value.email,\r\n        phone: form.value.phone,\r\n        password: form.value.password,\r\n        businessType: form.value.businessType\r\n      }\r\n    })\r\n    \r\n    // Show success notification\r\n    const notificationStore = useNotificationStore()\r\n    notificationStore.success(\r\n      'Welcome to TOSS ERP!', \r\n      'Your account has been created successfully. Please check your email to verify your account.',\r\n      { duration: 8000 }\r\n    )\r\n    \r\n    // Redirect to dashboard or login\r\n    await navigateTo('/login?registered=true')\r\n  } catch (error: any) {\r\n    // Show error notification\r\n    const notificationStore = useNotificationStore()\r\n    notificationStore.error(\r\n      'Registration failed',\r\n      error.data?.message || 'Unable to create account. Please try again.'\r\n    )\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// Redirect if already authenticated\r\nconst userStore = useUserStore()\r\nonMounted(async () => {\r\n  if (userStore.isAuthenticated) {\r\n    await navigateTo('/dashboard')\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* Additional custom styles if needed */\r\n</style>\r\n"],"version":3}