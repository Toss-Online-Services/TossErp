import{_ as h}from"./B-1QvgDM.js";import{e as N,r as b,k as S,g as T,n as x,c as m,a as r,f as g,h as P,i as s,v as l,u as t,l as C,j as V,d as n,b as p,w as c,t as M,o as f,_ as z}from"./Bxwy2Pe9.js";import{u as B}from"./Cqku-VDY.js";import{u as v}from"./BcMIrOjA.js";import{u as U}from"./BUMlGY71.js";const q={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"},X={class:"max-w-md w-full space-y-8"},L={class:"space-y-4"},R={class:"grid grid-cols-2 gap-4"},j={class:"flex items-center"},E={for:"agreeTerms",class:"ml-2 block text-sm text-gray-900 dark:text-white"},O=["disabled"],A={class:"absolute left-0 inset-y-0 flex items-center pl-3"},F={key:0,class:"h-5 w-5 text-green-500 group-hover:text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},H={key:1,class:"animate-spin h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24"},I={class:"text-center"},W={class:"text-sm text-gray-600 dark:text-gray-400"},D=N({__name:"register",setup(J){B({title:"Sign Up - Join TOSS ERP"});const d=b(!1),a=b({businessName:"",firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",businessType:"",agreeTerms:!1}),y=S(()=>a.value.businessName&&a.value.firstName&&a.value.lastName&&a.value.email&&a.value.phone&&a.value.password&&a.value.confirmPassword&&a.value.businessType&&a.value.agreeTerms&&a.value.password===a.value.confirmPassword&&a.value.password.length>=8);async function w(){if(!(d.value||!y.value)){if(a.value.password!==a.value.confirmPassword){v().error("Password Mismatch","Passwords do not match. Please check and try again.");return}d.value=!0;try{const i=await $fetch("/api/auth/register",{method:"POST",body:{businessName:a.value.businessName,firstName:a.value.firstName,lastName:a.value.lastName,email:a.value.email,phone:a.value.phone,password:a.value.password,businessType:a.value.businessType}});v().success("Welcome to TOSS ERP!","Your account has been created successfully. Please check your email to verify your account.",{duration:8e3}),await x("/login?registered=true")}catch(i){v().error("Registration failed",i.data?.message||"Unable to create account. Please try again.")}finally{d.value=!1}}}const k=U();return T(async()=>{k.isAuthenticated&&await x("/dashboard")}),(i,e)=>{const u=h;return f(),m("div",q,[r("div",X,[e[26]||(e[26]=g('<div data-v-f629ca36><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-gradient-to-r from-green-400 to-green-600" data-v-f629ca36><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f629ca36><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" data-v-f629ca36></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white" data-v-f629ca36> Join TOSS ERP </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400" data-v-f629ca36> Create your free business account today </p></div>',1)),r("form",{class:"mt-8 space-y-6",onSubmit:P(w,["prevent"])},[r("div",L,[r("div",null,[e[9]||(e[9]=r("label",{for:"businessName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Business Name ",-1)),s(r("input",{id:"businessName","onUpdate:modelValue":e[0]||(e[0]=o=>t(a).businessName=o),name:"businessName",type:"text",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"e.g., Thabo's Spaza Shop"},null,512),[[l,t(a).businessName]])]),r("div",R,[r("div",null,[e[10]||(e[10]=r("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," First Name ",-1)),s(r("input",{id:"firstName","onUpdate:modelValue":e[1]||(e[1]=o=>t(a).firstName=o),name:"firstName",type:"text",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"First name"},null,512),[[l,t(a).firstName]])]),r("div",null,[e[11]||(e[11]=r("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Last Name ",-1)),s(r("input",{id:"lastName","onUpdate:modelValue":e[2]||(e[2]=o=>t(a).lastName=o),name:"lastName",type:"text",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Last name"},null,512),[[l,t(a).lastName]])])]),r("div",null,[e[12]||(e[12]=r("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Email Address ",-1)),s(r("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=o=>t(a).email=o),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"your@email.com"},null,512),[[l,t(a).email]])]),r("div",null,[e[13]||(e[13]=r("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Phone Number ",-1)),s(r("input",{id:"phone","onUpdate:modelValue":e[4]||(e[4]=o=>t(a).phone=o),name:"phone",type:"tel",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"+27 XX XXX XXXX"},null,512),[[l,t(a).phone]])]),r("div",null,[e[14]||(e[14]=r("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Password ",-1)),s(r("input",{id:"password","onUpdate:modelValue":e[5]||(e[5]=o=>t(a).password=o),name:"password",type:"password",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Create a strong password"},null,512),[[l,t(a).password]])]),r("div",null,[e[15]||(e[15]=r("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Confirm Password ",-1)),s(r("input",{id:"confirmPassword","onUpdate:modelValue":e[6]||(e[6]=o=>t(a).confirmPassword=o),name:"confirmPassword",type:"password",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Confirm your password"},null,512),[[l,t(a).confirmPassword]])]),r("div",null,[e[17]||(e[17]=r("label",{for:"businessType",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Business Type ",-1)),s(r("select",{id:"businessType","onUpdate:modelValue":e[7]||(e[7]=o=>t(a).businessType=o),name:"businessType",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm bg-white dark:bg-gray-800"},[...e[16]||(e[16]=[g('<option value="" data-v-f629ca36>Select your business type</option><option value="spaza" data-v-f629ca36>Spaza Shop</option><option value="retail" data-v-f629ca36>Retail Store</option><option value="restaurant" data-v-f629ca36>Restaurant/Takeaway</option><option value="service" data-v-f629ca36>Service Business</option><option value="wholesale" data-v-f629ca36>Wholesale</option><option value="manufacturing" data-v-f629ca36>Manufacturing</option><option value="other" data-v-f629ca36>Other</option>',8)])],512),[[C,t(a).businessType]])])]),r("div",j,[s(r("input",{id:"agreeTerms","onUpdate:modelValue":e[8]||(e[8]=o=>t(a).agreeTerms=o),name:"agreeTerms",type:"checkbox",required:"",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800"},null,512),[[V,t(a).agreeTerms]]),r("label",E,[e[20]||(e[20]=n(" I agree to the ",-1)),p(u,{to:"/terms",class:"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline"},{default:c(()=>[...e[18]||(e[18]=[n(" Terms of Service ",-1)])]),_:1}),e[21]||(e[21]=n(" and ",-1)),p(u,{to:"/privacy",class:"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline"},{default:c(()=>[...e[19]||(e[19]=[n(" Privacy Policy ",-1)])]),_:1})])]),r("div",null,[r("button",{type:"submit",disabled:t(d)||!t(y),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r("span",A,[t(d)?(f(),m("svg",H,[...e[23]||(e[23]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(f(),m("svg",F,[...e[22]||(e[22]=[r("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"},null,-1)])]))]),n(" "+M(t(d)?"Creating account...":"Create account"),1)],8,O)]),r("div",I,[r("p",W,[e[25]||(e[25]=n(" Already have an account? ",-1)),p(u,{to:"/login",class:"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300"},{default:c(()=>[...e[24]||(e[24]=[n(" Sign in ",-1)])]),_:1})])])],32),e[27]||(e[27]=g('<div class="mt-8 bg-green-50 dark:bg-green-900/20 rounded-lg p-4" data-v-f629ca36><h3 class="text-sm font-medium text-green-800 dark:text-green-200 mb-3" data-v-f629ca36>Why join TOSS ERP?</h3><div class="space-y-2 text-xs text-green-700 dark:text-green-300" data-v-f629ca36><div class="flex items-center" data-v-f629ca36><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" data-v-f629ca36><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" data-v-f629ca36></path></svg> Group buying to save money together </div><div class="flex items-center" data-v-f629ca36><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" data-v-f629ca36><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" data-v-f629ca36></path></svg> AI-powered business insights </div><div class="flex items-center" data-v-f629ca36><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" data-v-f629ca36><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" data-v-f629ca36></path></svg> Complete inventory &amp; sales management </div><div class="flex items-center" data-v-f629ca36><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" data-v-f629ca36><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" data-v-f629ca36></path></svg> Community collaboration tools </div></div></div>',1))])])}}}),Z=z(D,[["__scopeId","data-v-f629ca36"]]);export{Z as default};
