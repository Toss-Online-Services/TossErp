import{m as R,r as d,k as p,p as y,n as r}from"./Bxwy2Pe9.js";const N=R("notifications",()=>{const o=d([]),s=d(5),m=p(()=>o.value.slice(0,s.value)),f=p(()=>o.value.length);function i(e){const n={id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date,duration:e.duration??(e.type==="error"?0:5e3),...e};return o.value.unshift(n),!e.persistent&&n.duration>0&&setTimeout(()=>{u(n.id)},n.duration),o.value.length>50&&(o.value=o.value.slice(0,50)),n.id}function u(e){const n=o.value.findIndex(t=>t.id===e);n>-1&&o.value.splice(n,1)}function v(){o.value=[]}function c(e,n,t){return i({type:"success",title:e,message:n||"",...t})}function g(e,n,t){return i({type:"error",title:e,message:n||"",persistent:!0,...t})}function a(e,n,t){return i({type:"warning",title:e,message:n||"",...t})}function l(e,n,t){return i({type:"info",title:e,message:n||"",...t})}function $(e,n,t){return a("Low Stock Alert",`${e} is running low (${n} remaining, threshold: ${t})`,{actions:[{label:"Reorder",action:()=>{r(`/inventory/reorder?item=${encodeURIComponent(e)}`)},style:"primary"},{label:"Update Threshold",action:()=>{r(`/inventory/settings?item=${encodeURIComponent(e)}`)},style:"secondary"}]})}function w(e,n){return l("Group Buying Opportunity",`Join "${e}" and save ${n}`,{actions:[{label:"Join Now",action:()=>{r("/group-buying")},style:"primary"}]})}function h(e,n,t){return a("Payment Overdue",`${e} owes ${n} (${t} days overdue)`,{actions:[{label:"Send Reminder",action:()=>{},style:"primary"},{label:"View Details",action:()=>{r(`/accounts/receivables?customer=${encodeURIComponent(e)}`)},style:"secondary"}]})}function b(e,n){return c("Sales Milestone Reached!",`Congratulations! You've reached ${e} with ${n} in sales`,{duration:8e3,actions:[{label:"View Report",action:()=>{r("/reports/sales")},style:"primary"}]})}return{notifications:y(o),maxNotifications:y(s),visibleNotifications:m,unreadCount:f,add:i,remove:u,clear:v,success:c,error:g,warning:a,info:l,inventoryAlert:$,groupBuyingOpportunity:w,paymentReminder:h,salesMilestone:b}});export{N as u};
